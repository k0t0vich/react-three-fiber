(this["webpackJsonpexamples-cra"]=this["webpackJsonpexamples-cra"]||[]).push([[0],{11:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}));var r=n(2),a=n(17),i=n(6),o=n(5),c=n(0),u=n(1),s=n.n(u),l=n(8),f=n(43);function d(e){return e.isOrthographicCamera}function v(e){return(e.eventObject||e.object).uuid+"/"+e.index}var h=Object(u.createContext)({}),m=function(e){var t=e.children,n=e.gl,m=e.camera,b=e.orthographic,g=e.raycaster,j=e.size,O=e.pixelRatio,y=e.vr,_=void 0!==y&&y,x=e.concurrent,w=void 0!==x&&x,M=e.shadowMap,E=void 0!==M&&M,C=e.colorManagement,P=void 0===C||C,k=e.invalidateFrameloop,T=void 0!==k&&k,S=e.updateDefaultCamera,F=void 0===S||S,R=e.noEvents,D=void 0!==R&&R,L=e.onCreated,A=e.onPointerMissed,z=e.forceResize,U=Object(u.useState)(!1),I=Object(o.a)(U,2),H=I[0],q=I[1],G=Object(u.useState)((function(){return new c.Vector2})),W=Object(o.a)(G,1)[0],B=Object(u.useState)((function(){var e=new c.Raycaster;if(g){g.filter,g.computeOffsets;var t=Object(i.a)(g,["filter","computeOffsets"]);Object(l.a)(e,t,{})}return e})),V=Object(o.a)(B,1)[0],N=Object(u.useState)((function(){var e=new c.Scene;return e.__interaction=[],e.__objects=[],e})),Y=Object(o.a)(N,1)[0],X=Object(u.useState)((function(){var e=b?new c.OrthographicCamera(0,0,0,0,.1,1e3):new c.PerspectiveCamera(75,0,.1,1e3);return e.position.z=5,m&&Object(l.a)(e,m,{}),e.lookAt(0,0,0),e})),J=Object(o.a)(X,2),K=J[0],Q=J[1],Z=Object(u.useState)((function(){return new c.Clock})),$=Object(o.a)(Z,1)[0],ee=Object(u.useRef)({ready:!1,active:!0,manual:0,colorManagement:P,vr:_,concurrent:w,noEvents:D,invalidateFrameloop:!1,frames:0,aspect:0,subscribers:[],camera:K,scene:Y,raycaster:V,mouse:W,clock:$,gl:n,size:j,viewport:null,initialClick:[0,0],initialHits:[],pointer:new f.TinyEmitter,captured:void 0,events:void 0,subscribe:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t&&ee.current.manual++,ee.current.subscribers.push({ref:e,priority:t}),ee.current.subscribers=ee.current.subscribers.sort((function(e,t){return e.priority-t.priority})),function(){var n;(null===(n=ee.current)||void 0===n?void 0:n.subscribers)&&(t&&ee.current.manual--,ee.current.subscribers=ee.current.subscribers.filter((function(t){return t.ref!==e})))}},setDefaultCamera:function(e){return Q(e)},invalidate:function(){return Object(l.c)(ee)},intersect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return le(e,t)},forceResize:z}),te=Object(u.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee.current.camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new c.Vector3(0,0,0),n=ee.current.size,r=n.width,a=n.height,i=e.position.distanceTo(t);if(d(e))return{width:r/e.zoom,height:a/e.zoom,factor:1,distance:i};var o=e.fov*Math.PI/180,u=2*Math.tan(o/2)*i,s=u*(r/a);return{width:s,height:u,factor:r/s,distance:i}}),[]);Object(u.useMemo)((function(){ee.current.ready=H,ee.current.size=j,ee.current.camera=K,ee.current.invalidateFrameloop=T,ee.current.vr=_,ee.current.gl=n,ee.current.concurrent=w,ee.current.noEvents=D,ee.current.viewport=te}),[T,_,w,D,H,j,K,n]),Object(u.useMemo)((function(){ee.current.aspect=j.width/j.height,Object.assign(ee.current.viewport,te()),F&&(d(K)?(K.left=j.width/-2,K.right=j.width/2,K.top=j.height/2,K.bottom=j.height/-2):K.aspect=ee.current.aspect,K.updateProjectionMatrix(),K.updateMatrixWorld()),n.setSize(j.width,j.height),H&&Object(l.c)(ee)}),[K,n,j,F]);var ne=Object(u.useMemo)((function(){return new Map}),[]),re=new c.Vector3,ae=Object(u.useCallback)((function(e){var t,n=(null===g||void 0===g||null===(t=g.computeOffsets)||void 0===t?void 0:t.call(g,e))||e.nativeEvent;if(n){var r=n.offsetX,a=n.offsetY,i=ee.current.size,o=i.width,c=i.height;W.set(r/o*2-1,-a/c*2+1),V.setFromCamera(W,ee.current.camera)}}),[]),ie=Object(u.useCallback)((function(e,t){if(ee.current.noEvents)return[];var n=new Set,i=[],o=t?t(ee.current.scene.__interaction):ee.current.scene.__interaction,c=V.intersectObjects(o,!0).filter((function(e){var t=v(e);return!n.has(t)&&(n.add(t),!0)}));g&&g.filter&&de.current&&(c=g.filter(c,de.current));var u,s=Object(a.a)(c);try{for(s.s();!(u=s.n()).done;)for(var l=u.value,f=l.object;f;){f.__handlers&&i.push(Object(r.a)(Object(r.a)({},l),{},{eventObject:f})),f=f.parent}}catch(d){s.e(d)}finally{s.f()}return i}),[]),oe=Object(u.useCallback)((function(e){var t=e.nativeEvent.offsetX-ee.current.initialClick[0],n=e.nativeEvent.offsetY-ee.current.initialClick[1];return Math.round(Math.sqrt(t*t+n*n))}),[]),ce=Object(u.useCallback)((function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];ee.current.pointer.emit("pointerCancel",e),n&&ae(e),Array.from(ne.values()).forEach((function(e){if(t&&(!t.length||!t.find((function(t){return t.eventObject===e.eventObject})))){var n=e.eventObject.__handlers;ne.delete(v(e)),n&&(n.pointerOut&&n.pointerOut(Object(r.a)(Object(r.a)({},e),{},{type:"pointerout"})),n.pointerLeave&&n.pointerLeave(Object(r.a)(Object(r.a)({},e),{},{type:"pointerleave"})))}}))}),[]),ue=Object(u.useCallback)((function(e,t){var n=ie(e,t);return ee.current.captured&&"click"!==e.type&&"wheel"!==e.type&&ee.current.captured.forEach((function(e){n.find((function(t){return t.eventObject===e.eventObject}))||n.push(e)})),n}),[]),se=Object(u.useCallback)((function(e,t,n){return e.length&&function(){var i,o=re.set(W.x,W.y,0).unproject(ee.current.camera),c="click"===t.type?oe(t):0,u=function(e){return t.target.releasePointerCapture(e)},s={stopped:!1,captured:!1},l=Object(a.a)(e);try{var f=function(){var a=i.value,l=function(e){s.captured||(s.captured=!0,ee.current.captured=[]),ee.current.captured&&ee.current.captured.push(a),t.target.setPointerCapture(e)},f=Object(r.a)(Object(r.a)(Object(r.a)({},t),a),{},{intersections:e,stopped:s.stopped,delta:c,unprojectedPoint:o,ray:V.ray,camera:ee.current.camera,stopPropagation:function(){var e=ee.current.captured;e&&!e.find((function(e){return e.eventObject.id===a.eventObject.id}))||(f.stopped=s.stopped=!0,ne.size&&Array.from(ne.values()).find((function(e){return e.object===a.object}))&&ce(f,[a]))},target:Object(r.a)(Object(r.a)({},t.target),{},{setPointerCapture:l,releasePointerCapture:u}),currentTarget:Object(r.a)(Object(r.a)({},t.currentTarget),{},{setPointerCapture:l,releasePointerCapture:u}),sourceEvent:t});if(n(f),!0===s.stopped)return"break"};for(l.s();!(i=l.n()).done;){if("break"===f())break}}catch(d){l.e(d)}finally{l.f()}}(),e}),[]),le=Object(u.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ee.current.pointer.emit("pointerMove",e),t&&ae(e);var n=ue(e,(function(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){return e.__handlers["pointer"+t]}))}))}));return ce(e,n),se(n,e,(function(e){var t=e.eventObject.__handlers;if(t){if(t.pointerOver||t.pointerEnter||t.pointerOut||t.pointerLeave){var n=v(e),a=ne.get(n);a?a.stopped&&e.stopPropagation():(ne.set(n,e),t.pointerOver&&t.pointerOver(Object(r.a)(Object(r.a)({},e),{},{type:"pointerover"})),t.pointerEnter&&t.pointerEnter(Object(r.a)(Object(r.a)({},e),{},{type:"pointerenter"})))}t.pointerMove&&t.pointerMove(e)}})),n}),[]),fe=Object(u.useCallback)((function(e){return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ee.current.pointer.emit(e,t),n&&ae(t);var r=ue(t);se(r,t,(function(t){var n=t.eventObject,r=n.__handlers;r&&r[e]&&("click"!==e&&"contextMenu"!==e&&"doubleClick"!==e||ee.current.initialHits.includes(n))&&r[e](t)})),"pointerDown"===e&&(ee.current.initialClick=[t.nativeEvent.offsetX,t.nativeEvent.offsetY],ee.current.initialHits=r.map((function(e){return e.eventObject}))),"click"!==e&&"contextMenu"!==e&&"doubleClick"!==e||r.length||!A||oe(t)<=2&&A()}}),[A,oe,ue,se,ae]);Object(u.useMemo)((function(){ee.current.events={onClick:fe("click"),onContextMenu:fe("contextMenu"),onDoubleClick:fe("doubleClick"),onWheel:fe("wheel"),onPointerDown:fe("pointerDown"),onPointerUp:fe("pointerUp"),onPointerLeave:function(e){return ce(e,[])},onPointerMove:le,onGotPointerCaptureLegacy:function(e){return ee.current.captured=ie(e)},onLostPointerCapture:function(e){return ee.current.captured=void 0,ce(e)}}}),[fe,ie,ce,le]);var de=Object(u.useRef)();Object(u.useMemo)((function(){var e=ee.current,t=(e.ready,e.manual,e.vr,e.noEvents,e.invalidateFrameloop,e.frames,e.subscribers,e.captured,e.initialClick,e.initialHits,Object(i.a)(e,["ready","manual","vr","noEvents","invalidateFrameloop","frames","subscribers","captured","initialClick","initialHits"]));de.current=t}),[j,K]),Object(u.useLayoutEffect)((function(){O&&(Array.isArray(O)?n.setPixelRatio(Math.max(Math.min(O[0],window.devicePixelRatio),O[1])):n.setPixelRatio(O))}),[n,O]),Object(u.useLayoutEffect)((function(){E&&(n.shadowMap.enabled=!0,"object"===typeof E?Object.assign(n.shadowMap,E):n.shadowMap.type=c.PCFSoftShadowMap),P&&(n.toneMapping=c.ACESFilmicToneMapping,n.outputEncoding=c.sRGBEncoding)}),[E,P]);var ve=Object(u.useCallback)((function(e){var t=function(){return q(!0)};return Object(u.useEffect)((function(){var e=L&&L(ee.current);e&&e.then?e.then(t):t()}),[]),e.children}),[]);return Object(u.useLayoutEffect)((function(){Object(l.d)(s.a.createElement(ve,null,s.a.createElement(h.Provider,{value:de.current},"function"===typeof t?t(ee.current):t)),Y,ee)}),[H,t,de.current]),Object(u.useLayoutEffect)((function(){H&&(ee.current.vr?(n.xr||n.vr)&&n.setAnimationLoop?((n.xr||n.vr).enabled=!0,n.setAnimationLoop((function(e){return Object(l.e)(ee,e,0,!0)}))):console.warn("the gl instance does not support VR!"):Object(l.c)(ee))}),[H,T]),Object(u.useEffect)((function(){return function(){ee.current.gl&&(ee.current.gl.renderLists&&ee.current.gl.renderLists.dispose(),ee.current.gl.forceContextLoss&&ee.current.gl.forceContextLoss(),p(ee.current.gl)),Object(l.f)(ee.current.scene,(function(){p(ee.current.raycaster),p(ee.current.camera),p(ee.current)}))}}),[]),ee.current.events};function p(e){for(var t in e.dispose&&e.dispose(),e)"object"===typeof t&&t.dispose&&t.dispose(),delete e[t]}},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(2),a=n(5),i=n(6),o=n(1),c=n.n(o),u=n(45),s=n(49),l=n(44),f=n(11),d={position:"relative",width:"100%",height:"100%",overflow:"hidden"};function v(e){var t=e.children,n=e.setEvents,c=e.container,u=e.renderer,s=e.effects,l=Object(i.a)(e,["children","setEvents","container","renderer","effects"]),d=Object(o.useState)(u),v=Object(a.a)(d,1)[0];v||console.warn("No renderer created!"),Object(o.useEffect)((function(){s&&s(v,c)}),[c,s,v]);var h=Object(f.b)(Object(r.a)(Object(r.a)({},l),{},{children:t,gl:v}));return Object(o.useEffect)((function(){n(h)}),[h,n]),null}var h=c.a.memo((function(e){e.renderer,e.effects,e.children,e.vr,e.webgl1,e.concurrent,e.shadowMap,e.colorManagement,e.orthographic,e.invalidateFrameloop,e.updateDefaultCamera,e.noEvents,e.gl,e.camera,e.raycaster,e.pixelRatio,e.onCreated,e.onPointerMissed;var t=e.preRender,n=e.resize,f=e.style,h=Object(i.a)(e,["renderer","effects","children","vr","webgl1","concurrent","shadowMap","colorManagement","orthographic","invalidateFrameloop","updateDefaultCamera","noEvents","gl","camera","raycaster","pixelRatio","onCreated","onPointerMissed","preRender","resize","style"]),m=Object(o.useRef)(),p=Object(o.useState)({}),b=Object(a.a)(p,2),g=b[0],j=(g.onGotPointerCaptureLegacy,Object(i.a)(g,["onGotPointerCaptureLegacy"])),O=b[1],y=Object(u.a)(n||{scroll:!0,debounce:{scroll:50,resize:0},polyfill:"undefined"!==typeof window&&window.ResizeObserver?void 0:s.a}),_=Object(a.a)(y,3),x=_[0],w=_[1],M=_[2],E=Object(o.useRef)(!1),C=Object(o.useMemo)((function(){return E.current=E.current||!!w.width&&!!w.height}),[w]),P=Object(o.useMemo)((function(){return{size:w,forceResize:M,setEvents:O,container:m.current}}),[M,w]);return"undefined"===typeof window?c.a.createElement("div",Object.assign({style:Object(r.a)(Object(r.a)({},d),f)},h),t):c.a.createElement("div",Object.assign({ref:Object(l.a)([x,m]),style:Object(r.a)(Object(r.a)({},d),f)},j,h),t,C&&c.a.createElement(v,Object.assign({},e,P)))}))},26:function(e){e.exports=JSON.parse('{"a":"react-three-fiber","b":"5.1.7"}')},34:function(e,t,n){"use strict";var r=n(8);n.d(t,"extend",(function(){return r.b}));var a=n(35);n.o(a,"useFrame")&&n.d(t,"useFrame",(function(){return a.useFrame})),n.o(a,"useLoader")&&n.d(t,"useLoader",(function(){return a.useLoader})),n.o(a,"useThree")&&n.d(t,"useThree",(function(){return a.useThree}));var i=n(36);n.d(t,"useFrame",(function(){return i.a})),n.d(t,"useLoader",(function(){return i.b})),n.d(t,"useThree",(function(){return i.c}))},35:function(e,t){},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l}));n(5);var r=n(1),a=n(11),i=n(27);function o(e){var t=Object(r.useContext)(e);return t||console.warn("hooks can only be used within the canvas! https://github.com/react-spring/react-three-fiber#hooks"),t}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=o(a.a),i=n.subscribe,c=Object(r.useRef)(e);return Object(r.useLayoutEffect)((function(){c.current=e}),[e]),Object(r.useEffect)((function(){var e=i(c,t);return function(){return e()}}),[t,i]),null}function u(){return o(a.a)}function s(e,t){return function(n,r){var a=new n;e&&e(a);var i=Array.isArray(r)?r:[r];return Promise.all(i.map((function(e){return new Promise((function(n,r){return a.load(e,(function(e){e.scene&&(e.nodes={},e.materials={},e.scene.traverse((function(t){t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}))),n(e)}),t,(function(e){return r(e.message)}))}))})))}}function l(e,t,n,r){var a=Object(i.a)(s(n,r),[e,t]);return Array.isArray(t)?a:a[0]}l.preload=function(e,t,n){return i.a.preload(s(n),e,t)}},53:function(e,t,n){e.exports=n(63)},63:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(37),o=n.n(i),c=n(5),u=n(0),s=n(7),l=n(50),f=n(16),d=n(38),v=n(51),h=n(52),m={uniforms:{tDiffuse:{value:null},tDisp:{value:null},byp:{value:0},amount:{value:.08},angle:{value:.02},seed:{value:.02},seed_x:{value:.02},seed_y:{value:.02},distortion_x:{value:.5},distortion_y:{value:.6},col_s:{value:.05}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform int byp;","uniform sampler2D tDiffuse;","uniform sampler2D tDisp;","uniform float amount;","uniform float angle;","uniform float seed;","uniform float seed_x;","uniform float seed_y;","uniform float distortion_x;","uniform float distortion_y;","uniform float col_s;","varying vec2 vUv;","float rand(vec2 co){","return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);","}","void main() {","if(byp<1) {","vec2 p = vUv;","float xs = floor(gl_FragCoord.x / 0.5);","float ys = floor(gl_FragCoord.y / 0.5);","vec4 normal = texture2D (tDisp, p*seed*seed);","if(p.y<distortion_x+col_s && p.y>distortion_x-col_s*seed) {","if(seed_x>0.){","p.y = 1. - (p.y + distortion_y);","}","else {","p.y = distortion_y;","}","}","if(p.x<distortion_y+col_s && p.x>distortion_y-col_s*seed) {","if(seed_y>0.){","p.x=distortion_x;","}","else {","p.x = 1. - (p.x + distortion_x);","}","}","p.x+=normal.x*seed_x*(seed/5.);","p.y+=normal.y*seed_y*(seed/5.);","vec2 offset = amount * vec2( cos(angle), sin(angle));","vec4 cr = texture2D(tDiffuse, p + offset);","vec4 cga = texture2D(tDiffuse, p);","vec4 cb = texture2D(tDiffuse, p - offset);","gl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);","vec4 snow = 200.*amount*vec4(rand(vec2(xs * seed,ys * seed*50.))*0.05);","gl_FragColor = gl_FragColor+ snow;","}","else {","gl_FragColor=texture2D (tDiffuse, vUv);","}","}"].join("\n")},p=n(4),b=function(e){p.a.call(this),void 0===m&&console.error("THREE.GlitchPass relies on THREE.DigitalGlitch");var t=m;this.uniforms=u.UniformsUtils.clone(t.uniforms),void 0===e&&(e=64),this.uniforms.tDisp.value=this.generateHeightmap(e),this.material=new u.ShaderMaterial({uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader}),this.camera=new u.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new u.Scene,this.quad=new u.Mesh(new u.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad),this.factor=0};b.prototype=Object.assign(Object.create(p.a.prototype),{constructor:b,render:function(e,t,n,r,a){var i=Math.max(0,this.factor);this.uniforms.tDiffuse.value=n.texture,this.uniforms.seed.value=Math.random()*i,this.uniforms.byp.value=0,i?(this.uniforms.amount.value=Math.random()/90*i,this.uniforms.angle.value=u.Math.randFloat(-Math.PI,Math.PI)*i,this.uniforms.distortion_x.value=u.Math.randFloat(0,1)*i,this.uniforms.distortion_y.value=u.Math.randFloat(0,1)*i,this.uniforms.seed_x.value=u.Math.randFloat(-.3,.3)*i,this.uniforms.seed_y.value=u.Math.randFloat(-.3,.3)*i):this.uniforms.byp.value=1,this.quad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),e.render(this.scene,this.camera)):(e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera))},generateHeightmap:function(e){for(var t=new Float32Array(e*e*3),n=e*e,r=0;r<n;r++){var a=u.Math.randFloat(0,1);t[3*r+0]=a,t[3*r+1]=a,t[3*r+2]=a}var i=new u.DataTexture(t,e,e,u.RGBFormat,u.FloatType);return i.needsUpdate=!0,i}});var g={uniforms:{byp:{value:0},tex:{type:"t",value:null},time:{type:"f",value:0},factor:{type:"f",value:0},resolution:{type:"v2",value:null}},vertexShader:["varying vec2 vUv;\n    void main(){  \n      vUv = uv; \n      vec4 modelViewPosition = modelViewMatrix * vec4(position, 1.0);\n      gl_Position = projectionMatrix * modelViewPosition;\n    }"].join("\n"),fragmentShader:["uniform int byp; //should we apply the glitch ?\n    uniform float time;\n    uniform float factor;\n    uniform vec2 resolution;\n    uniform sampler2D tex;\n    \n    varying vec2 vUv;\n    \n    void main() {  \n      if (byp<1) {\n        vec2 uv1 = vUv;\n        vec2 uv = gl_FragCoord.xy/resolution.xy;\n        float frequency = 6.0;\n        float amplitude = 0.015 * factor;\n        float x = uv1.y * frequency + time * .7; \n        float y = uv1.x * frequency + time * .3;\n        uv1.x += cos(x+y) * amplitude * cos(y);\n        uv1.y += sin(x-y) * amplitude * cos(y);\n        vec4 rgba = texture2D(tex, uv1);\n        gl_FragColor = rgba;\n      } else {\n        gl_FragColor = texture2D(tex, vUv);\n      }\n    }"].join("\n")},j=function(e){p.a.call(this),void 0===g&&console.error("THREE.WaterPass relies on THREE.WaterShader");var t=g;this.uniforms=u.UniformsUtils.clone(t.uniforms),void 0===e&&(e=64),this.uniforms.resolution.value=new u.Vector2(e,e),this.material=new u.ShaderMaterial({uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader}),this.camera=new u.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new u.Scene,this.quad=new u.Mesh(new u.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad),this.factor=0,this.time=0};j.prototype=Object.assign(Object.create(p.a.prototype),{constructor:j,render:function(e,t,n,r,a){var i=Math.max(0,this.factor);this.uniforms.byp.value=i?0:1,this.uniforms.tex.value=n.texture,this.uniforms.time.value=this.time,this.uniforms.factor.value=this.factor,this.time+=.05,this.quad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),e.render(this.scene,this.camera)):(e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera))}});var O=n(6),y=n(39);function _(e,t,n){var r=0,a=0,i=window.innerWidth,o=window.innerHeight;return e<=i/2&&(r=n*((i/2-e)/(i/2)*100)/100*-1),e>=i/2&&(r=n*((e-i/2)/(i/2)*100)/100),t<=o/2&&(a=.5*n*((o/2-t)/(o/2)*100)/100*-1),t>=o/2&&(a=n*((t-o/2)/(o/2)*100)/100),{x:r,y:a}}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:40,r=_(e.current.x,e.current.y,n);t.rotation.xD=u.MathUtils.lerp(t.rotation.xD||0,r.y,.1),t.rotation.yD=u.MathUtils.lerp(t.rotation.yD||0,r.x,.1),t.rotation.x=u.Math.degToRad(t.rotation.xD),t.rotation.y=u.Math.degToRad(t.rotation.yD)}function w(e){var t=e.mouse,n=Object(O.a)(e,["mouse"]),i=Object(r.useRef)(),o=Object(s.useLoader)(y.a,"https://k0t0vich.github.io/demo/stacy.glb"),l=o.nodes,f=o.animations,d=Object(s.useLoader)(u.TextureLoader,"https://k0t0vich.github.io/demo/tex.jpg"),v=Object(r.useRef)(),h=Object(r.useState)((function(){return new u.AnimationMixer})),m=Object(c.a)(h,1)[0];return Object(s.useFrame)((function(e,t){return m.update(t)})),Object(r.useEffect)((function(){return v.current={idle:m.clipAction(f[8],i.current)},v.current.idle.play(),function(){return f.forEach((function(e){return m.uncacheClip(e)}))}}),[]),Object(s.useFrame)((function(e,n){m.update(n),x(t,l.mixamorigNeck),x(t,l.mixamorigSpine)})),a.a.createElement("group",Object.assign({ref:i},n,{dispose:null}),a.a.createElement("group",{rotation:[Math.PI/2,0,0]},a.a.createElement("primitive",{object:l.mixamorigHips}),a.a.createElement("skinnedMesh",{receiveShadow:!0,castShadoow:!0,geometry:l.stacy.geometry,skeleton:l.stacy.skeleton},a.a.createElement("meshPhongMaterial",{map:d,"map-flipY":!1,skinning:!0}))))}Object(s.extend)({EffectComposer:l.a,ShaderPass:f.a,RenderPass:d.a,WaterPass:j,UnrealBloomPass:v.a,FilmPass:h.a,GlitchPass:b});var M=Math.PI/2;function E(e){var t=e.count,n=(e.mouse,Object(r.useRef)()),i=(Object(r.useRef)(),(0,Object(s.useThree)().viewport)().factor,Object(r.useMemo)((function(){return new u.Object3D}),[])),o=Object(r.useMemo)((function(){for(var e=[],n=0;n<t;n++){var r=10*Math.random()+20,a=6.28*Math.random(),i=2*Math.random()+.1,o=Math.random()*M,c=.02+Math.random()/100,u=-Math.sin(a)*r,s=Math.cos(a)*r;e.push({r:r,t:o,speed:c,x:u,y:s,zLen:i})}return e}),[t]);return Object(s.useFrame)((function(e){o.forEach((function(e,t){e.r;var r=e.t,a=e.speed,o=e.x,c=e.y,u=e.zLen;(r=e.t+=a)>M&&(r=e.t=0);var s=-50*Math.sin(r)+55;i.position.set(o,c,s),i.scale.set(1,1,u),i.updateMatrix(),n.current.setMatrixAt(t,i.matrix)})),n.current.instanceMatrix.needsUpdate=!0})),a.a.createElement(a.a.Fragment,null,a.a.createElement("instancedMesh",{ref:n,args:[null,null,t]},a.a.createElement("boxGeometry",{attach:"geometry",args:[.01,.5,10]}),a.a.createElement("meshStandardMaterial",{attach:"material",color:16777215*Math.random(),roughness:.5,metalness:.5})))}function C(e){var t=e.down,n=Object(r.useRef)(),i=Object(s.useThree)(),o=i.scene,c=i.gl,l=i.size,f=i.camera;t?(f.position.x=0,f.position.y=0,f.rotation.x=.3):(f.position.x=-15,f.position.y=0,f.rotation.x=0);var d=Object(r.useMemo)((function(){return new u.Vector2(l.width,l.height)}),[l]);return Object(r.useEffect)((function(){n.current.setSize(l.width,l.height)}),[l]),Object(s.useFrame)((function(){return n.current.render()}),1),a.a.createElement("effectComposer",{ref:n,args:[c]},a.a.createElement("renderPass",{attachArray:"passes",scene:o,camera:f}),a.a.createElement("waterPass",{attachArray:"passes",factor:0}),a.a.createElement("unrealBloomPass",{attachArray:"passes",args:[d,2,1,0]}),a.a.createElement("filmPass",{attachArray:"passes",factor:t?1:0,args:[.25,.4,1500,!1]}),a.a.createElement("glitchPass",{attachArray:"passes",factor:t?1:0}))}function P(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),n=t[0],i=t[1],o=Object(r.useRef)({x:0,y:0});Object(r.useCallback)((function(e){var t=e.clientX,n=e.clientY;return o.current=[t-window.innerWidth/2,n-window.innerHeight/2]}),[]);return a.a.createElement("div",{style:{width:"100%",height:"100%"},onMouseMove:function(e){return o.current=function(e){return{x:e.clientX,y:e.clientY}}(e)},onMouseUp:function(){return i(!1)},onMouseDown:function(){return i(!0)}},a.a.createElement(s.Canvas,{camera:{fov:100,position:[0,0,50]}},a.a.createElement("ambientLight",{intensity:1}),a.a.createElement("pointLight",{distance:60,intensity:1,color:"white"}),a.a.createElement(E,{mouse:o,count:200}),a.a.createElement(r.Suspense,{fallback:null},a.a.createElement(w,{mouse:o,position:[0,-30,20],scale:[.2,.2,.2]})),a.a.createElement(C,{down:n})))}var k=n(29),T=n(30);function S(){var e=Object(k.a)(["\n  * {\n    box-sizing: border-box;\n  }\n\n  html,\n  body,\n  #root {\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    overflow: hidden;\n  }\n\n  #root {\n    overflow: auto;\n  }\n\n  body {\n    position: fixed;\n    overflow: hidden;\n    overscroll-behavior-y: none;\n    font-family: -apple-system, BlinkMacSystemFont, avenir next, avenir, helvetica neue, helvetica, ubuntu, roboto, noto, segoe ui, arial, sans-serif;\n    color: black;\n    background: white;\n  }\n"]);return S=function(){return e},e}function F(){var e=Object(k.a)(["\n  position: relative;\n  width: 100%;\n  height: 100vh;\n\n  & > h1 {\n    font-family: 'Roboto', sans-serif;\n    font-weight: 900;\n    font-size: 8em;\n    margin: 0;\n    color: white;\n    line-height: 0.59em;\n    letter-spacing: -2px;\n  }\n\n  @media only screen and (max-width: 1000px) {\n    & > h1 {\n      font-size: 5em;\n      letter-spacing: -1px;\n    }\n  }\n\n  & > a {\n    margin: 0;\n    color: white;\n    text-decoration: none;\n  }\n"]);return F=function(){return e},e}var R=T.b.div(F()),D=Object(T.a)(S());function L(){return a.a.createElement("div",null,a.a.createElement(D,null),a.a.createElement(R,null,a.a.createElement(P,null)))}o.a.render(a.a.createElement(L,null),document.getElementById("root"))},7:function(e,t,n){"use strict";n.d(t,"Canvas",(function(){return l}));var r=n(2),a=n(6),i=n(34);n.o(i,"extend")&&n.d(t,"extend",(function(){return i.extend})),n.o(i,"useFrame")&&n.d(t,"useFrame",(function(){return i.useFrame})),n.o(i,"useLoader")&&n.d(t,"useLoader",(function(){return i.useLoader})),n.o(i,"useThree")&&n.d(t,"useThree",(function(){return i.useThree}));var o=n(0),c=n(1),u=n.n(c),s=n(19),l=u.a.memo((function(e){var t=e.children,n=Object(a.a)(e,["children"]),i=Object(c.useRef)(),l=n.webgl1?o.WebGL1Renderer:o.WebGLRenderer;return u.a.createElement(s.a,Object.assign({},n,{renderer:function(){if(i.current){var e=Object(r.a)({antialias:!0,alpha:!0},n.gl);return new l(Object(r.a)({powerPreference:"high-performance",canvas:i.current},e))}},preRender:u.a.createElement("canvas",{ref:i,style:{display:"block"}})}),t)}))},8:function(e,t,n){"use strict";n.d(t,"e",(function(){return O})),n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return M})),n.d(t,"a",(function(){return E})),n.d(t,"d",(function(){return A})),n.d(t,"f",(function(){return z}));var r=n(40),a=n(6),i=n(9),o=n(41),c=n(5),u=n(2),s=n(0),l=n(42),f=n.n(l),d=n(12),v=n(26),h=new Map,m={},p={obj:function(e){return e===Object(e)&&!p.arr(e)},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){if(typeof e!==typeof t||!!e!==!!t)return!1;if(p.str(e)||p.num(e)||p.obj(e))return e===t;if(p.arr(e)&&e==t)return!0;var n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return!p.und(n)||e===t}};var b=[],g=[],j=[];function O(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(a)for(n=0;n<b.length;n++)b[n](t),r++;var i=e.current.clock.getDelta();for(n=0;n<e.current.subscribers.length;n++)e.current.subscribers[n].ref.current(e.current,i);if(e.current.frames=Math.max(0,e.current.frames-1),r+=e.current.invalidateFrameloop?e.current.frames:1,!e.current.manual&&e.current.gl.render&&e.current.gl.render(e.current.scene,e.current.camera),a)for(n=0;n<g.length;n++)g[n](t);return r}var y=!1;function _(e){y=!0;var t,n=0;for(t=0;t<b.length;t++)b[t](e),n++;for(h.forEach((function(t){var r=t.containerInfo.__state;r.current.active&&r.current.ready&&(!r.current.invalidateFrameloop||r.current.frames>0)&&(n=O(r,e,n))})),t=0;t<g.length;t++)g[t](e);if(0!==n)return requestAnimationFrame(_);for(t=0;t<j.length;t++)j[t](e);y=!1}function x(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!0===e)h.forEach((function(e){return e.containerInfo.__state.current.frames=t}));else if(e&&e.current){if(e.current.vr)return;e.current.frames=t}y||(y=!0,requestAnimationFrame(_))}var w={},M=function(e){w=Object(u.a)(Object(u.a)({},w),e)};function E(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=e.__container,f=[],d=[],v=Object.keys(t);for(n=0;n<v.length;n++)p.equ(t[v[n]],r[v[n]])&&f.push(v[n]),p.fun(t[v[n]])&&v[n].startsWith("on")&&(v[n].includes("Pointer")||v[n].includes("Click")||v[n].includes("ContextMenu")||v[n].includes("Wheel"))&&d.push(v[n]);var h=[];if(v=Object.keys(r),a)for(n=0;n<v.length;n++)void 0===t[v[n]]&&h.push(v[n]);var m=[].concat(f,["children","key","ref"]);e.__instance&&m.push("object");var b=Object(u.a)({},t);for(v=Object.keys(b),n=0;n<v.length;n++)m.indexOf(v[n])>-1&&delete b[v[n]];for(v=Object.keys(h),n=0;n<v.length;n++)"children"!==v[n]&&(b[v[n]]=void 0);var g=Object.entries(b);if(g.length>0){if(g.forEach((function(t){var n=Object(c.a)(t,2),r=n[0],a=n[1];if(!d.includes(r)){var u,l,f=e,v=f[r];if(r.includes("-")){var h=r.split("-");if(!(v=h.reduce((function(e,t){return e[t]}),e))||!v.set){var m=h.reverse(),p=Object(o.a)(m),b=p[0];f=p.slice(1).reverse().reduce((function(e,t){return e[t]}),e),r=b}}var g,j=null===(u=e.__container)||void 0===u||null===(l=u.__state)||void 0===l?void 0:l.current.colorManagement;if(v&&v.set&&(v.copy||v instanceof s.Layers))if(Array.isArray(a))(g=v).set.apply(g,Object(i.a)(a));else v.copy&&a&&a.constructor&&v.constructor.name===a.constructor.name?v.copy(a):void 0!==a&&(v.set(a),j&&v instanceof s.Color&&v.convertSRGBToLinear());else f[r]=a,j&&f[r]instanceof s.Texture&&(f[r].encoding=s.sRGBEncoding);C(e)}})),a&&l&&e.raycast&&e.__handlers){e.__handlers=void 0;var j=l.__interaction.indexOf(e);j>-1&&l.__interaction.splice(j,1)}d.length&&(l&&e.raycast&&l.__interaction.push(e),e.__handlers=d.reduce((function(e,n){return e[n.charAt(2).toLowerCase()+n.substr(3)]=t[n],e}),{})),e.parent&&P(e)}}function C(e){e.__container&&e.__container.__state&&x(e.__container.__state)}function P(e){e.onUpdate&&e.onUpdate(e)}function k(e,t,n,o,c){var l,f=t.args,d=void 0===f?[]:f,v=Object(a.a)(t,["args"]),m="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e)(l=(v=Object(u.a)({dispose:null},v)).object).__instance=!0,l.__dispose=l.dispose;else{var b=w[m]||s[m];if(!b)throw'"'.concat(m,'" is not part of the THREE namespace! Did you forget to extend it? See: https://github.com/react-spring/react-three-fiber/blob/master/api.md#putting-already-existing-objects-into-the-scene-graph');l=p.arr(d)?Object(r.a)(b,Object(i.a)(d)):new b(d)}for(;n.__container;)n=n.__container;if(!h.has(n)){n=function e(t){return t.return?e(t.return):t.stateNode&&t.stateNode.containerInfo}(c)}return l.__objects=[],l.__container=n,m.endsWith("Geometry")?v=Object(u.a)({attach:"geometry"},v):m.endsWith("Material")&&(v=Object(u.a)({attach:"material"},v)),E(l,v,{}),l}function T(e,t){t&&(t.isObject3D?e.add(t):(e.__objects.push(t),t.parent=e,t.attachArray?(p.arr(e[t.attachArray])||(e[t.attachArray]=[]),e[t.attachArray].push(t)):t.attachObject?(p.obj(e[t.attachObject[0]])||(e[t.attachObject[0]]={}),e[t.attachObject[0]][t.attachObject[1]]=t):t.attach&&(e[t.attach]=t)),P(t),C(t))}function S(e,t,n){if(t){if(t.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var r=e.children.filter((function(e){return e!==t})),a=r.indexOf(n);e.children=[].concat(Object(i.a)(r.slice(0,a)),[t],Object(i.a)(r.slice(a))),P(t)}else T(e,t);C(t)}}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){var r=n?Object(i.a)(e):e;r.forEach((function(e){return R(t,e)}))}}function R(e,t){t&&(t.isObject3D?e.remove(t):(t.parent=null,e.__objects&&(e.__objects=e.__objects.filter((function(e){return e!==t}))),t.attachArray?e[t.attachArray]=e[t.attachArray].filter((function(e){return e!==t})):t.attachObject?delete e[t.attachObject[0]][t.attachObject[1]]:t.attach&&(e[t.attach]=null)),C(t),null!==t.dispose&&Object(d.unstable_runWithPriority)(d.unstable_IdlePriority,(function(){t.__container&&(t.__container.__interaction=t.__container.__interaction.filter((function(e){return e!==t}))),F(t.__objects,t),F(t.children,t,!0),t.dispose?t.dispose():t.__dispose&&t.__dispose(),delete t.__container,delete t.__objects})))}function D(e,t,n,r){var a=e.parent,i=k(t,n,e.__container,0,r);R(a,e),T(a,i),[r,r.alternate].forEach((function(e){null!==e&&(e.stateNode=i,e.ref&&(p.fun(e.ref)?e.ref(i):e.ref.current=i))}))}var L=f()({now:d.unstable_now,createInstance:k,removeChild:R,appendChild:T,insertBefore:S,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:p.fun(setTimeout)?setTimeout:void 0,cancelTimeout:p.fun(clearTimeout)?clearTimeout:void 0,setTimeout:p.fun(setTimeout)?setTimeout:void 0,clearTimeout:p.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendInitialChild:T,appendChildToContainer:T,removeChildFromContainer:R,insertInContainerBefore:S,commitUpdate:function(e,t,n,r,i,o){if(e.__instance&&i.object&&i.object!==e)D(e,n,i,o);else{var u=i.args,s=void 0===u?[]:u,l=Object(a.a)(i,["args"]),f=r.args,d=void 0===f?[]:f,v=Object(a.a)(r,["args"]);s.some((function(e,t){return p.obj(e)?Object.entries(e).some((function(e){var n=Object(c.a)(e,2),r=n[0];return n[1]!==d[t][r]})):e!==d[t]}))?D(e,n,i,o):E(e,l,v,!0)}},hideInstance:function(e){e.isObject3D&&(e.visible=!1,C(e))},unhideInstance:function(e,t){(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0,C(e))},hideTextInstance:function(){throw new Error("Text is not allowed in the react-three-fibre tree. You may have extraneous whitespace between components.")},getPublicInstance:function(e){return e},getRootHostContext:function(){return m},getChildHostContext:function(){return m},createTextInstance:function(){},finalizeInitialChildren:function(){return!1},prepareUpdate:function(){return m},shouldDeprioritizeSubtree:function(){return!1},prepareForCommit:function(){return null},preparePortalMount:function(){return null},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1}});p.fun(Symbol)&&Symbol.for&&Symbol.for("react.portal");function A(e,t,n){var r=h.get(t);if(!r){t.__state=n;var a=r=L.createContainer(t,void 0!==n&&n.current.concurrent?2:0,!1,null);h.set(t,a)}return L.updateContainer(e,r,null,(function(){})),L.getPublicRootInstance(r)}function z(e,t){var n=h.get(e);n&&L.updateContainer(null,n,null,(function(){h.delete(e),t&&t(e)}))}L.injectIntoDevTools({bundleType:0,findHostInstanceByFiber:function(){return null},version:v.b,rendererPackageName:v.a})}},[[53,1,2]]]);
//# sourceMappingURL=main.9fdea18f.chunk.js.map